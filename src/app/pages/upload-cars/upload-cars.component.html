<p-tabView *ngIf="!prueba" [(activeIndex)]="activeIndex">
  <!-- Tab 1: Información Básica -->
  <p-tabPanel header="Información Básica">
    <form [formGroup]="carForm" class="card" [autocomplete]="'off'">
      <div class="flex flex-col gap-6 w-full">
        <div class="font-semibold text-xl flex-col">{{titulo}}</div>
      </div>

      <div class="flex flex-col gap-6 w-full">
        <div class="flex justify-between">
          <div class="font-semibold text-sm flex-col">Información</div>
        </div>

        <!-- Primera fila -->
        <div class="flex flex-col md:flex-row gap-6">
          <p-inputgroup>
            <p-inputgroup-addon>
              <i class="pi pi-user"></i>
            </p-inputgroup-addon>
            <input pInputText [(ngModel)]="data.brand" formControlName="marca" placeholder="Brand"
              autocomplete="new-password" />
          </p-inputgroup>
          <p-inputgroup>
            <p-inputgroup-addon>
              <i class="pi pi-user"></i>
            </p-inputgroup-addon>
            <input pInputText [(ngModel)]="data.model" formControlName="modelo" placeholder="Modelo"
              autocomplete="new-password" />
          </p-inputgroup>
          <p-inputgroup>
            <p-inputgroup-addon>
              <i class="pi pi-user"></i>
            </p-inputgroup-addon>
            <input pInputText [(ngModel)]="data.year" formControlName="anio" placeholder="Año"
              autocomplete="new-password" />
          </p-inputgroup>
        </div>

        <!-- Segunda fila -->
        <div class="flex flex-col md:flex-row gap-6">
          <p-inputgroup>
            <input pInputText [(ngModel)]="data.numero_serie" formControlName="numero_serie" autocomplete="new-password"
              placeholder="Numero de serie" />
          </p-inputgroup>

          <p-inputgroup>
            <input pInputText [(ngModel)]="data.placas" formControlName="placas" autocomplete="new-password"
              placeholder="Placas" />
          </p-inputgroup>

          <p-inputgroup>
            <input pInputText [(ngModel)]="data.km" formControlName="km" autocomplete="new-password"
              placeholder="Kilometraje" />
          </p-inputgroup>
        </div>

        <!-- Tercera fila -->
        <div class="flex flex-col md:flex-row gap-6">

          <p-inputgroup>
            <input pInputText [(ngModel)]="data.numero_motor" formControlName="numero_motor" autocomplete="new-password"
              placeholder="Numero de motor" />
          </p-inputgroup>

          <p-inputgroup>
            <input pInputText [(ngModel)]="data.color" formControlName="color" autocomplete="new-password"
              placeholder="Color" />
          </p-inputgroup>

          <p-inputgroup>
            <input pInputText [(ngModel)]="data.precio" formControlName="precio" autocomplete="new-password"
              placeholder="Precio sugerido" />
          </p-inputgroup>
        </div>
        <p-button label="Siguiente" (onClick)="BotonSiguiente()" class="align-end bottom-0 right-0"></p-button>
      </div>
    </form>
  </p-tabPanel>

  <!-- Tab 2: Características Técnicas -->
  <p-tabPanel header="Fotos del Auto">
    <div class="card">
      <h2>Subir fotos de carros</h2>
      <p-fileUpload #fileUpload name="carImages" accept="image/*" maxFileSize="5000000" [auto]="false" [multiple]="true"
        [customUpload]="true" (uploadHandler)="uploadFiles($event)" (onSelect)="onFilesSelected($event)"
        (onClear)="onClearFiles()" chooseLabel="Seleccionar fotos" uploadLabel="Subir" cancelLabel="Cancelar"
        styleClass="custom-uploader" (onRemove)="onFileRemoved($event)">
        <ng-template pTemplate="content">
          <div *ngIf="uploadedFiles.length === 0" class="upload-placeholder">
            <i class="pi pi-cloud-upload icon"></i>
            <p>Arrastra las fotos aquí o haz clic para seleccionarlas</p>
          </div>

          <div *ngIf="uploadedFiles.length > 0" class="uploaded-images">
            <h3>Fotos subidas:</h3>
            <div class="grid-container">
              <div class="image-wrapper" *ngFor="let file of uploadedFiles; let i = index">
                <button class="delete-button" (click)="removeUploadedFileCallback(i)">
                  <i class="pi pi-times"></i>
                </button>
                <img [src]="file.objectURL" alt="Foto de carro" />
              </div>
            </div>
          </div>
        </ng-template>
      </p-fileUpload>
    </div>
  </p-tabPanel>
</p-tabView>